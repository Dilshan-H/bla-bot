"use strict";(self.webpackChunkbla_bot_docs=self.webpackChunkbla_bot_docs||[]).push([[522],{3905:(t,e,a)=>{a.d(e,{Zo:()=>d,kt:()=>h});var n=a(7294);function r(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}function l(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,n)}return a}function i(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?l(Object(a),!0).forEach((function(e){r(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):l(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}function o(t,e){if(null==t)return{};var a,n,r=function(t,e){if(null==t)return{};var a,n,r={},l=Object.keys(t);for(n=0;n<l.length;n++)a=l[n],e.indexOf(a)>=0||(r[a]=t[a]);return r}(t,e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(t);for(n=0;n<l.length;n++)a=l[n],e.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(t,a)&&(r[a]=t[a])}return r}var p=n.createContext({}),s=function(t){var e=n.useContext(p),a=e;return t&&(a="function"==typeof t?t(e):i(i({},e),t)),a},d=function(t){var e=s(t.components);return n.createElement(p.Provider,{value:e},t.children)},m="mdxType",u={inlineCode:"code",wrapper:function(t){var e=t.children;return n.createElement(n.Fragment,{},e)}},c=n.forwardRef((function(t,e){var a=t.components,r=t.mdxType,l=t.originalType,p=t.parentName,d=o(t,["components","mdxType","originalType","parentName"]),m=s(a),c=r,h=m["".concat(p,".").concat(c)]||m[c]||u[c]||l;return a?n.createElement(h,i(i({ref:e},d),{},{components:a})):n.createElement(h,i({ref:e},d))}));function h(t,e){var a=arguments,r=e&&e.mdxType;if("string"==typeof t||r){var l=a.length,i=new Array(l);i[0]=c;var o={};for(var p in e)hasOwnProperty.call(e,p)&&(o[p]=e[p]);o.originalType=t,o[m]="string"==typeof t?t:r,i[1]=o;for(var s=2;s<l;s++)i[s]=a[s];return n.createElement.apply(null,i)}return n.createElement.apply(null,a)}c.displayName="MDXCreateElement"},5358:(t,e,a)=>{a.r(e),a.d(e,{assets:()=>p,contentTitle:()=>i,default:()=>u,frontMatter:()=>l,metadata:()=>o,toc:()=>s});var n=a(7462),r=(a(7294),a(3905));const l={sidebar_label:"Data Formatting & Encrypting",sidebar_position:5},i="Data Formatting & Encrypting",o={unversionedId:"data-formatting-encrypting",id:"data-formatting-encrypting",title:"Data Formatting & Encrypting",description:"This file contains the information about the data formatting and encrypting process.",source:"@site/docs/data-formatting-encrypting.md",sourceDirName:".",slug:"/data-formatting-encrypting",permalink:"/bla-bot/docs/data-formatting-encrypting",draft:!1,editUrl:"https://github.com/Dilshan-H/bla-bot/docs/data-formatting-encrypting.md",tags:[],version:"current",sidebarPosition:5,frontMatter:{sidebar_label:"Data Formatting & Encrypting",sidebar_position:5},sidebar:"tutorialSidebar",previous:{title:"Usage",permalink:"/bla-bot/docs/usage"},next:{title:"Testing on your Local Machine",permalink:"/bla-bot/docs/testng-on-local-machine"}},p={},s=[{value:"Standard Data Format",id:"standard-data-format",level:2},{value:"Results - <code>results.csv</code>",id:"results---resultscsv",level:3},{value:"Staff Info - <code>staff_info.txt</code>",id:"staff-info---staff_infotxt",level:3},{value:"Batch Data - <code>full_batch_data.csv</code>",id:"batch-data---full_batch_datacsv",level:3},{value:"General Resources - <code>resources.txt</code>",id:"general-resources---resourcestxt",level:3},{value:"File Encryption",id:"file-encryption",level:2}],d={toc:s},m="wrapper";function u(t){let{components:e,...a}=t;return(0,r.kt)(m,(0,n.Z)({},d,a,{components:e,mdxType:"MDXLayout"}),(0,r.kt)("h1",{id:"data-formatting--encrypting"},"Data Formatting & Encrypting"),(0,r.kt)("p",null,"This file contains the information about the data formatting and encrypting process."),(0,r.kt)("hr",null),(0,r.kt)("h2",{id:"standard-data-format"},"Standard Data Format"),(0,r.kt)("p",null,"The functionality of the bot is based on the data stored in the ",(0,r.kt)("inlineCode",{parentName:"p"},"DATA")," folder. The data is stored in the form of CSV and text files. And later, we have to encrypt them for security concerns (if your intention is to adding the bot to a private group, this is REQUIRED!).\nYou can find the templates of the CSV and text files in the ",(0,r.kt)("inlineCode",{parentName:"p"},"DATA/Templates")," folder. You can use those templates to add your data."),(0,r.kt)("h3",{id:"results---resultscsv"},"Results - ",(0,r.kt)("inlineCode",{parentName:"h3"},"results.csv")),(0,r.kt)("p",null,"Contains the results of the students. The data is stored in the following format.\n",(0,r.kt)("strong",{parentName:"p"},"S1, S2, S3, S4, S5, S6, S7, S8")," are the semester results. ",(0,r.kt)("strong",{parentName:"p"},"Y1, Y2, Y3, Y4")," are the year results. ",(0,r.kt)("strong",{parentName:"p"},"CGPA")," and ",(0,r.kt)("strong",{parentName:"p"},"OGPA")," are the cumulative and overall GPAs respectively.",(0,r.kt)("br",{parentName:"p"}),"\n",(0,r.kt)("strong",{parentName:"p"},"Errors")," are about the missing/invalid information. This parameter can be either one of the following values."),(0,r.kt)("admonition",{title:"QUICK TIP",type:"tip"},(0,r.kt)("p",{parentName:"admonition"},"You can also add your own error types using ",(0,r.kt)("inlineCode",{parentName:"p"},"gpa_values.py")," if you want to...")),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"ERROR")," - The NIC/ID number is not registered in database."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"HOLD")," - The results are on hold. Only the partially calculated GPA values present."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"NEW")," - Calculated GPA values are based on student's current results within a batch; OGPA, CGPA and Academic Status will not represent accurate information. (Useful for a repeated/batch-missed student.)")),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"user_id"),(0,r.kt)("th",{parentName:"tr",align:null},"NIC_no"),(0,r.kt)("th",{parentName:"tr",align:null},"s1"),(0,r.kt)("th",{parentName:"tr",align:null},"s2"),(0,r.kt)("th",{parentName:"tr",align:null},"s3"),(0,r.kt)("th",{parentName:"tr",align:null},"s4"),(0,r.kt)("th",{parentName:"tr",align:null},"s5"),(0,r.kt)("th",{parentName:"tr",align:null},"s6"),(0,r.kt)("th",{parentName:"tr",align:null},"s7"),(0,r.kt)("th",{parentName:"tr",align:null},"s8"),(0,r.kt)("th",{parentName:"tr",align:null},"Errors"),(0,r.kt)("th",{parentName:"tr",align:null},"Y1"),(0,r.kt)("th",{parentName:"tr",align:null},"Y2"),(0,r.kt)("th",{parentName:"tr",align:null},"Y3"),(0,r.kt)("th",{parentName:"tr",align:null},"Y4"),(0,r.kt)("th",{parentName:"tr",align:null},"cgpa"),(0,r.kt)("th",{parentName:"tr",align:null},"ogpa"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"123451"),(0,r.kt)("td",{parentName:"tr",align:null},"1234567890"),(0,r.kt)("td",{parentName:"tr",align:null},"3.623"),(0,r.kt)("td",{parentName:"tr",align:null},"2.66"),(0,r.kt)("td",{parentName:"tr",align:null},"3.11"),(0,r.kt)("td",{parentName:"tr",align:null}),(0,r.kt)("td",{parentName:"tr",align:null}),(0,r.kt)("td",{parentName:"tr",align:null}),(0,r.kt)("td",{parentName:"tr",align:null}),(0,r.kt)("td",{parentName:"tr",align:null}),(0,r.kt)("td",{parentName:"tr",align:null}),(0,r.kt)("td",{parentName:"tr",align:null},"3.41231"),(0,r.kt)("td",{parentName:"tr",align:null}),(0,r.kt)("td",{parentName:"tr",align:null}),(0,r.kt)("td",{parentName:"tr",align:null}),(0,r.kt)("td",{parentName:"tr",align:null},"3.1234"),(0,r.kt)("td",{parentName:"tr",align:null})))),(0,r.kt)("h3",{id:"staff-info---staff_infotxt"},"Staff Info - ",(0,r.kt)("inlineCode",{parentName:"h3"},"staff_info.txt")),(0,r.kt)("p",null,"STAFF info is stored in here.\nContact information that relates to a single person written as blocks. And, each bock is seperated with a newline (new empty line).\nSee examples given below."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-text"},"# ----- Begining of the file -----\n\nDr. A.B. John Doe\nDEAN, FACULTY OF ABC\nOffice: 0123456789\nEmail: abc@uni.com\n\nMr. Alex White\nHEAD, DEPARTMENT OF ABC\nOffice: 0123456789\nEmail: abc@uni.com, abc@alex.com\n\nMs. Jane Doe\nAssistant Registrar - Faculty of ABC\nDirect Line: 0123456789\nOffice: 0123456789\nExtension: 1234\nEmail: abc@uni.com\nFax: 0123456789\n\n# ----- End of the file -----\n\n")),(0,r.kt)("h3",{id:"batch-data---full_batch_datacsv"},"Batch Data - ",(0,r.kt)("inlineCode",{parentName:"h3"},"full_batch_data.csv")),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Uni_reg_no"),(0,r.kt)("th",{parentName:"tr",align:null},"Name_with_initials"),(0,r.kt)("th",{parentName:"tr",align:null},"BDay"),(0,r.kt)("th",{parentName:"tr",align:null},"Uni_email"),(0,r.kt)("th",{parentName:"tr",align:null},"Email"),(0,r.kt)("th",{parentName:"tr",align:null},"Postal_address"),(0,r.kt)("th",{parentName:"tr",align:null},"District"),(0,r.kt)("th",{parentName:"tr",align:null},"Contact_no"),(0,r.kt)("th",{parentName:"tr",align:null},"Errors"),(0,r.kt)("th",{parentName:"tr",align:null},"Short_name"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"123456"),(0,r.kt)("td",{parentName:"tr",align:null},"A.B.C. Jane Doe"),(0,r.kt)("td",{parentName:"tr",align:null},"1985-01-01"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("a",{parentName:"td",href:"mailto:janedoe@uni.com"},"janedoe@uni.com")),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("a",{parentName:"td",href:"mailto:janedoe@jane.com"},"janedoe@jane.com")),(0,r.kt)("td",{parentName:"tr",align:null},"123/A, ABC Road, ABC"),(0,r.kt)("td",{parentName:"tr",align:null},"ABCD"),(0,r.kt)("td",{parentName:"tr",align:null},"123456789"),(0,r.kt)("td",{parentName:"tr",align:null}),(0,r.kt)("td",{parentName:"tr",align:null},"Jane")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"1234562"),(0,r.kt)("td",{parentName:"tr",align:null},"A.B.C. John Doe"),(0,r.kt)("td",{parentName:"tr",align:null},"1985-01-01"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("a",{parentName:"td",href:"mailto:johndoe@uni.com"},"johndoe@uni.com")),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("a",{parentName:"td",href:"mailto:johndoe@jane.com"},"johndoe@jane.com")),(0,r.kt)("td",{parentName:"tr",align:null},"123/A, ABC Road, ABC"),(0,r.kt)("td",{parentName:"tr",align:null},"ABCD"),(0,r.kt)("td",{parentName:"tr",align:null},"123456789"),(0,r.kt)("td",{parentName:"tr",align:null},"Invalid ID number"),(0,r.kt)("td",{parentName:"tr",align:null},"John")))),(0,r.kt)("h3",{id:"general-resources---resourcestxt"},"General Resources - ",(0,r.kt)("inlineCode",{parentName:"h3"},"resources.txt")),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"keywords"),(0,r.kt)("th",{parentName:"tr",align:null},"title"),(0,r.kt)("th",{parentName:"tr",align:null},"data"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"keyword1, keyword2"),(0,r.kt)("td",{parentName:"tr",align:null},"This text contains the title of the resource content."),(0,r.kt)("td",{parentName:"tr",align:null},"Here goes the description or the URL - ",(0,r.kt)("a",{parentName:"td",href:"https://examplesite.com/"},"https://examplesite.com"))))),(0,r.kt)("h2",{id:"file-encryption"},"File Encryption"),(0,r.kt)("p",null,"The bot will use the encrypted files to fetch the data.\nAfter you have added the data to the CSV and text files according to above formats, you have to encrypt them using the ",(0,r.kt)("inlineCode",{parentName:"p"},"encrypt_data.py")," file."),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"NOTE"),": You have to run the ",(0,r.kt)("inlineCode",{parentName:"p"},"encrypt_data.py")," file from the ",(0,r.kt)("inlineCode",{parentName:"p"},"DATA")," folder for that. If you are not in the ",(0,r.kt)("inlineCode",{parentName:"p"},"DATA")," folder, you can use the following command to change the directory."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"cd DATA\n")),(0,r.kt)("p",null,"Then, run the ",(0,r.kt)("inlineCode",{parentName:"p"},"encrypt_data.py")," file using the following command."),(0,r.kt)("p",null,"On Poetry shell:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"poetry run python3 encrypt_data.py\n")),(0,r.kt)("p",null,"On Linux shell:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"python3 encrypt_data.py\n")),(0,r.kt)("p",null,"On Windows CMD prompt:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"py encrypt_data.py\n")),(0,r.kt)("admonition",{title:"WARNING",type:"danger"},(0,r.kt)("p",{parentName:"admonition"},(0,r.kt)("strong",{parentName:"p"},"IMPORTANT"),":"),(0,r.kt)("ul",{parentName:"admonition"},(0,r.kt)("li",{parentName:"ul"},"The ",(0,r.kt)("strong",{parentName:"li"},"key")," will be saved in the current folder with name format ",(0,r.kt)("inlineCode",{parentName:"li"},"KEY_date_time.txt"),". Open the key file and copy the key. Use that key while configuring the environment variables."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"DO NOT run this file again, if you are updating the existing data.")," It will generate a new key and you have to update the environment variables again. Instead, you can use the same key to encrypt the updated data files. Open the key file and copy the key. Uncomment the ",(0,r.kt)("inlineCode",{parentName:"li"},"key")," variable in the ",(0,r.kt)("inlineCode",{parentName:"li"},"encrypt_data.py")," file and paste the key there. Then, run the ",(0,r.kt)("inlineCode",{parentName:"li"},"encrypt_data.py")," file again."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"DO NOT")," share the ",(0,r.kt)("strong",{parentName:"li"},"key file")," or ",(0,r.kt)("strong",{parentName:"li"},"csv/txt")," files with anyone or commit it to a public repository (these files are already added to ",(0,r.kt)("inlineCode",{parentName:"li"},".gitignore")," file. So, you don't have to worry about it)."),(0,r.kt)("li",{parentName:"ul"},"[Optional]"," Delete the original data files after encryption. (",(0,r.kt)("strong",{parentName:"li"},"Make backups somewhere else first!")," and then delete the files that having the ",(0,r.kt)("inlineCode",{parentName:"li"},".csv")," and ",(0,r.kt)("inlineCode",{parentName:"li"},".txt")," extensions.)"))))}u.isMDXComponent=!0}}]);